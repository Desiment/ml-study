#Manhattan city

## Постановка задачи
Пусть нам даны <b>N</b> домиков на плоскости, заданные своими координатами <b> (x1, y1)...(xn, yn) </b>.
<b>H</b> и <b>V</b> горизонтальных и вертикальных прямых соответственно. Кроме того нам даны <b>Q</b> запросов - точек на плоскости
<b>(ai, bi)</b>, для каждой из которых требуется найти ближайший по расстоянию домик.
Разрешено двигаться по заданным линиям и внутри прямоугольников по манхеттенскому расстоянию.
Требуется для вывести для каждого запроса ответ - номер ближайшего домика.

#### Пример
![alt text](https://github.com/Desiment/ml-study/blob/main/solo_eltsov/manhattan_city/example.png)

#### Формат входных данных 
```text
N Q H V

y1
...
yH

x1
...
xV

x1 y1
...
xN yN

a1 b1
...
aQ bQ
```

#### Формат выходных данных
```text
k1 ... kQ
```

## Решение задачи
Так как мы можем двигаться внутри каждого прямоугольника по манхетеннскому расстоянию,
то задача превращается в задачу нахождения ближайшей точки на плоскости к заданной по манхеттенскому
расстоянию.

Как решать такую задачу? Да очень просто. Манхеттенское расстояние образует ромб с углами
45 градусов. Так как с ромбом работать не совсем удобно, то предлагается повернуть систему
координат на 45 градусов и получить квадрат, чьи стороны паралелльны осям координат. Далее давайте
найдем ближайшую к точке запроса следующим образом. Будем перебирать бинпоиском сторону квадрата и 
смотреть сколько точек попадает в наш квадрат. Для того, чтобы уметь быстро отвечать на запрос, сколько
точек содержаться в (qx-a/2; qx+a/2)x(qy-a/2;qy+a/2). Давайте посортим все точки по x,
и построим по ним дерево отрезков, которое хранит точки, посорченные по координате y. Тогда мы можем 
обращаться к дереву на отрезке (qx-a/2; qx+a/2) и посчитать сколько точек лежит внутри
(qy-a/2; qy+a/2). Пусть, к тому же, дерево возвращает хотя бы одну точку из данного отрезка,
если он не пуст, чтобы сразу иметь ответ.
## Результат работы программы
Данный пример был решен программой со следующим результатом
```text
 1 1 4 2 3
```
